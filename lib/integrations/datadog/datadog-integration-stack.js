"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DatadogAWSIntegrationStack = void 0;
const aws_cdk_lib_1 = require("aws-cdk-lib");
const aws_secretsmanager_1 = require("aws-cdk-lib/aws-secretsmanager");
const datadog_cw_kinesis_datadog_construct_1 = require("./datadog-cw-kinesis-datadog-construct");
const datadog_integration_construct_1 = require("./datadog-integration-construct");
class DatadogAWSIntegrationStack extends aws_cdk_lib_1.Stack {
    constructor(scope, id, props) {
        super(scope, id, props);
        new aws_secretsmanager_1.Secret(this, 'DatadogAPISecret', { secretName: '/account/datadog/api-key', description: 'Datadog API key' });
        new aws_secretsmanager_1.Secret(this, 'DatadogAPPSecret', { secretName: '/account/datadog/app-key', description: 'Datadog APP key' });
        new datadog_integration_construct_1.DatadogIntegration(this, 'DatadogIntegrationConstruct', props);
        new datadog_cw_kinesis_datadog_construct_1.KinesisToDatadogStream(this, 'DatadogKinesisIntegration', {
            datadogApiKeySecretName: '/account/datadog/api-key'
        });
    }
}
exports.DatadogAWSIntegrationStack = DatadogAWSIntegrationStack;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YWRvZy1pbnRlZ3JhdGlvbi1zdGFjay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImRhdGFkb2ctaW50ZWdyYXRpb24tc3RhY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNkNBQW9DO0FBQ3BDLHVFQUF3RDtBQUd4RCxpR0FBZ0Y7QUFDaEYsbUZBQXFFO0FBRXJFLE1BQWEsMEJBQTJCLFNBQVEsbUJBQUs7SUFDakQsWUFBWSxLQUFnQixFQUFFLEVBQVUsRUFBRSxLQUFzQztRQUM1RSxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUV4QixJQUFJLDJCQUFNLENBQUMsSUFBSSxFQUFFLGtCQUFrQixFQUFFLEVBQUUsVUFBVSxFQUFFLDBCQUEwQixFQUFFLFdBQVcsRUFBRSxpQkFBaUIsRUFBQyxDQUFDLENBQUE7UUFDL0csSUFBSSwyQkFBTSxDQUFDLElBQUksRUFBRSxrQkFBa0IsRUFBRSxFQUFFLFVBQVUsRUFBRSwwQkFBMEIsRUFBRSxXQUFXLEVBQUUsaUJBQWlCLEVBQUMsQ0FBQyxDQUFBO1FBRS9HLElBQUksa0RBQWtCLENBQUMsSUFBSSxFQUFFLDZCQUE2QixFQUFFLEtBQUssQ0FBQyxDQUFBO1FBQ2xFLElBQUksNkRBQXNCLENBQUMsSUFBSSxFQUFFLDJCQUEyQixFQUFFO1lBQzFELHVCQUF1QixFQUFFLDBCQUEwQjtTQUN0RCxDQUFDLENBQUM7SUFFUCxDQUFDO0NBQ0o7QUFiRCxnRUFhQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0YWNrIH0gZnJvbSBcImF3cy1jZGstbGliXCI7XG5pbXBvcnQgeyBTZWNyZXQgfSBmcm9tIFwiYXdzLWNkay1saWIvYXdzLXNlY3JldHNtYW5hZ2VyXCI7XG5pbXBvcnQgeyBDb25zdHJ1Y3QgfSBmcm9tIFwiY29uc3RydWN0c1wiO1xuaW1wb3J0IHsgRGF0YWRvZ0FXU0ludGVncmF0aW9uU3RhY2tQcm9wcyB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2xpYi9pbnRlZ3JhdGlvbnMvZGF0YWRvZy9pbnRlZmFjZXNcIjtcbmltcG9ydCB7IEtpbmVzaXNUb0RhdGFkb2dTdHJlYW0gfSBmcm9tIFwiLi9kYXRhZG9nLWN3LWtpbmVzaXMtZGF0YWRvZy1jb25zdHJ1Y3RcIjtcbmltcG9ydCB7IERhdGFkb2dJbnRlZ3JhdGlvbiB9IGZyb20gXCIuL2RhdGFkb2ctaW50ZWdyYXRpb24tY29uc3RydWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBEYXRhZG9nQVdTSW50ZWdyYXRpb25TdGFjayBleHRlbmRzIFN0YWNrIHtcbiAgICBjb25zdHJ1Y3RvcihzY29wZTogQ29uc3RydWN0LCBpZDogc3RyaW5nLCBwcm9wczogRGF0YWRvZ0FXU0ludGVncmF0aW9uU3RhY2tQcm9wcykge1xuICAgICAgICBzdXBlcihzY29wZSwgaWQsIHByb3BzKTtcblxuICAgICAgICBuZXcgU2VjcmV0KHRoaXMsICdEYXRhZG9nQVBJU2VjcmV0JywgeyBzZWNyZXROYW1lOiAnL2FjY291bnQvZGF0YWRvZy9hcGkta2V5JywgZGVzY3JpcHRpb246ICdEYXRhZG9nIEFQSSBrZXknfSlcbiAgICAgICAgbmV3IFNlY3JldCh0aGlzLCAnRGF0YWRvZ0FQUFNlY3JldCcsIHsgc2VjcmV0TmFtZTogJy9hY2NvdW50L2RhdGFkb2cvYXBwLWtleScsIGRlc2NyaXB0aW9uOiAnRGF0YWRvZyBBUFAga2V5J30pXG5cbiAgICAgICAgbmV3IERhdGFkb2dJbnRlZ3JhdGlvbih0aGlzLCAnRGF0YWRvZ0ludGVncmF0aW9uQ29uc3RydWN0JywgcHJvcHMpXG4gICAgICAgIG5ldyBLaW5lc2lzVG9EYXRhZG9nU3RyZWFtKHRoaXMsICdEYXRhZG9nS2luZXNpc0ludGVncmF0aW9uJywge1xuICAgICAgICAgICAgZGF0YWRvZ0FwaUtleVNlY3JldE5hbWU6ICcvYWNjb3VudC9kYXRhZG9nL2FwaS1rZXknXG4gICAgICAgIH0pO1xuXG4gICAgfVxufSJdfQ==