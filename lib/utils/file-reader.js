"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPath = exports.TextReader = exports.YamlReader = exports.IniReader = exports.JsonReader = exports.readAnyFile = void 0;
const ini = require("ini");
const path = require('path');
function readAnyFile(path, reader) {
    return reader.readFile(path);
}
exports.readAnyFile = readAnyFile;
class JsonReader {
    readFile(path) {
        const fs = require('fs');
        const file = fs.readFileSync(path, 'utf8');
        return JSON.parse(file);
    }
}
exports.JsonReader = JsonReader;
class IniReader {
    readFile(path) {
        const fs = require('fs');
        const file = fs.readFileSync(path, 'utf8');
        return ini.parse(file);
    }
}
exports.IniReader = IniReader;
class YamlReader {
    readFile(path) {
        const fs = require('fs');
        const yaml = require('js-yaml');
        const file = fs.readFileSync(path, 'utf8');
        return yaml.load(file);
    }
}
exports.YamlReader = YamlReader;
class TextReader {
    readFile(path) {
        const fs = require('fs');
        return fs.readFileSync(path, 'utf8');
    }
}
exports.TextReader = TextReader;
function getPath(stack) {
    return path.join(__dirname, `../config/${process.env.ACCOUNT_NAME}/${stack}`);
}
exports.getPath = getPath;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsZS1yZWFkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJmaWxlLXJlYWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwyQkFBMkI7QUFFM0IsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBTTdCLFNBQWdCLFdBQVcsQ0FBSSxJQUFZLEVBQUUsTUFBbUI7SUFDOUQsT0FBTyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQy9CLENBQUM7QUFGRCxrQ0FFQztBQUVELE1BQWEsVUFBVTtJQUNyQixRQUFRLENBQUMsSUFBWTtRQUNuQixNQUFNLEVBQUUsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekIsTUFBTSxJQUFJLEdBQUcsRUFBRSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDM0MsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFCLENBQUM7Q0FDRjtBQU5ELGdDQU1DO0FBRUQsTUFBYSxTQUFTO0lBQ3BCLFFBQVEsQ0FBQyxJQUFZO1FBQ25CLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QixNQUFNLElBQUksR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMzQyxPQUFPLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDekIsQ0FBQztDQUNGO0FBTkQsOEJBTUM7QUFFRCxNQUFhLFVBQVU7SUFDckIsUUFBUSxDQUFDLElBQVk7UUFDbkIsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pCLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNoQyxNQUFNLElBQUksR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztRQUUzQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDekIsQ0FBQztDQUNGO0FBUkQsZ0NBUUM7QUFFRCxNQUFhLFVBQVU7SUFDckIsUUFBUSxDQUFDLElBQVk7UUFDbkIsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pCLE9BQU8sRUFBRSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDdkMsQ0FBQztDQUNGO0FBTEQsZ0NBS0M7QUFFRCxTQUFnQixPQUFPLENBQUMsS0FBYTtJQUNuQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLGFBQWEsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLElBQUksS0FBSyxFQUFFLENBQUMsQ0FBQztBQUNoRixDQUFDO0FBRkQsMEJBRUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBpbmkgZnJvbSAnaW5pJztcblxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxudHlwZSBSZWFkYWJsZTxUPiA9IHtcbiAgcmVhZEZpbGUocGF0aDogc3RyaW5nKTogb2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZEFueUZpbGU8VD4ocGF0aDogc3RyaW5nLCByZWFkZXI6IFJlYWRhYmxlPFQ+KTogb2JqZWN0IHtcbiAgcmV0dXJuIHJlYWRlci5yZWFkRmlsZShwYXRoKTtcbn1cblxuZXhwb3J0IGNsYXNzIEpzb25SZWFkZXIgaW1wbGVtZW50cyBSZWFkYWJsZTxvYmplY3Q+IHtcbiAgcmVhZEZpbGUocGF0aDogc3RyaW5nKTogb2JqZWN0IHtcbiAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gICAgY29uc3QgZmlsZSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLCAndXRmOCcpO1xuICAgIHJldHVybiBKU09OLnBhcnNlKGZpbGUpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbmlSZWFkZXIgaW1wbGVtZW50cyBSZWFkYWJsZTxvYmplY3Q+IHtcbiAgcmVhZEZpbGUocGF0aDogc3RyaW5nKTogb2JqZWN0IHtcbiAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gICAgY29uc3QgZmlsZSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLCAndXRmOCcpO1xuICAgIHJldHVybiBpbmkucGFyc2UoZmlsZSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFlhbWxSZWFkZXIgaW1wbGVtZW50cyBSZWFkYWJsZTxvYmplY3Q+IHtcbiAgcmVhZEZpbGUocGF0aDogc3RyaW5nKTogb2JqZWN0IHtcbiAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gICAgY29uc3QgeWFtbCA9IHJlcXVpcmUoJ2pzLXlhbWwnKTtcbiAgICBjb25zdCBmaWxlID0gZnMucmVhZEZpbGVTeW5jKHBhdGgsICd1dGY4Jyk7XG5cbiAgICByZXR1cm4geWFtbC5sb2FkKGZpbGUpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUZXh0UmVhZGVyIGltcGxlbWVudHMgUmVhZGFibGU8b2JqZWN0PiB7XG4gIHJlYWRGaWxlKHBhdGg6IHN0cmluZyk6IG9iamVjdCB7XG4gICAgY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuICAgIHJldHVybiBmcy5yZWFkRmlsZVN5bmMocGF0aCwgJ3V0ZjgnKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGF0aChzdGFjazogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHBhdGguam9pbihfX2Rpcm5hbWUsIGAuLi9jb25maWcvJHtwcm9jZXNzLmVudi5BQ0NPVU5UX05BTUV9LyR7c3RhY2t9YCk7XG59XG5cbiJdfQ==