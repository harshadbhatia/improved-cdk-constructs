"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DatadogIntegration = void 0;
const constructs_1 = require("constructs");
const config_1 = require("./config");
const datadog_integration_role_stack_1 = require("./datadog-integration-role-stack");
class DatadogIntegration extends constructs_1.Construct {
    /**
     * Based on https://github.com/DataDog/cloudformation-template/blob/master/aws/main.yaml
     */
    constructor(scope, id, props) {
        super(scope, id);
        const propsWithDefaults = (0, config_1.applyDataDogDefaultsToConfig)(props);
        this.createIntegrationRoleStack(propsWithDefaults);
    }
    createIntegrationRoleStack(props) {
        return new datadog_integration_role_stack_1.DatadogIntegrationRoleStack(this, 'DatadogIntegrationRole', props);
    }
}
exports.DatadogIntegration = DatadogIntegration;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YWRvZy1pbnRlZ3JhdGlvbi1jb25zdHJ1Y3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJkYXRhZG9nLWludGVncmF0aW9uLWNvbnN0cnVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQSwyQ0FBdUM7QUFFdkMscUNBQWtHO0FBQ2xHLHFGQUErRTtBQUcvRSxNQUFhLGtCQUFtQixTQUFRLHNCQUFTO0lBQzdDOztPQUVHO0lBRUgsWUFBWSxLQUFnQixFQUFFLEVBQVUsRUFBRSxLQUFzQztRQUM1RSxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFBO1FBRWhCLE1BQU0saUJBQWlCLEdBQUcsSUFBQSxxQ0FBNEIsRUFBQyxLQUFLLENBQUMsQ0FBQTtRQUM3RCxJQUFJLENBQUMsMEJBQTBCLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtJQUN0RCxDQUFDO0lBRUQsMEJBQTBCLENBQUMsS0FBK0M7UUFDdEUsT0FBTyxJQUFJLDREQUEyQixDQUFDLElBQUksRUFBRSx3QkFBd0IsRUFBRSxLQUFLLENBQUMsQ0FBQTtJQUNqRixDQUFDO0NBRUo7QUFoQkQsZ0RBZ0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2ZuU3RhY2ssIFN0YWNrIH0gZnJvbSBcImF3cy1jZGstbGliXCI7XG5pbXBvcnQgeyBTZWNyZXQgfSBmcm9tIFwiYXdzLWNkay1saWIvYXdzLXNlY3JldHNtYW5hZ2VyXCI7XG5pbXBvcnQgeyBDb25zdHJ1Y3QgfSBmcm9tIFwiY29uc3RydWN0c1wiO1xuaW1wb3J0IHsgRGF0YWRvZ0FXU0ludGVncmF0aW9uU3RhY2tQcm9wcyB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL2xpYi9pbnRlZ3JhdGlvbnMvZGF0YWRvZy9pbnRlZmFjZXNcIjtcbmltcG9ydCB7IGFwcGx5RGF0YURvZ0RlZmF1bHRzVG9Db25maWcsIERhdGFkb2dJbnRlZ3JhdGlvblN0YWNrUHJvcHNXaXRoRGVmYXVsdHMgfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IERhdGFkb2dJbnRlZ3JhdGlvblJvbGVTdGFjayB9IGZyb20gXCIuL2RhdGFkb2ctaW50ZWdyYXRpb24tcm9sZS1zdGFja1wiO1xuXG5cbmV4cG9ydCBjbGFzcyBEYXRhZG9nSW50ZWdyYXRpb24gZXh0ZW5kcyBDb25zdHJ1Y3Qge1xuICAgIC8qKlxuICAgICAqIEJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9EYXRhRG9nL2Nsb3VkZm9ybWF0aW9uLXRlbXBsYXRlL2Jsb2IvbWFzdGVyL2F3cy9tYWluLnlhbWxcbiAgICAgKi9cblxuICAgIGNvbnN0cnVjdG9yKHNjb3BlOiBDb25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBEYXRhZG9nQVdTSW50ZWdyYXRpb25TdGFja1Byb3BzKSB7XG4gICAgICAgIHN1cGVyKHNjb3BlLCBpZClcblxuICAgICAgICBjb25zdCBwcm9wc1dpdGhEZWZhdWx0cyA9IGFwcGx5RGF0YURvZ0RlZmF1bHRzVG9Db25maWcocHJvcHMpXG4gICAgICAgIHRoaXMuY3JlYXRlSW50ZWdyYXRpb25Sb2xlU3RhY2socHJvcHNXaXRoRGVmYXVsdHMpXG4gICAgfVxuXG4gICAgY3JlYXRlSW50ZWdyYXRpb25Sb2xlU3RhY2socHJvcHM6IERhdGFkb2dJbnRlZ3JhdGlvblN0YWNrUHJvcHNXaXRoRGVmYXVsdHMpOiBTdGFjayB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0YWRvZ0ludGVncmF0aW9uUm9sZVN0YWNrKHRoaXMsICdEYXRhZG9nSW50ZWdyYXRpb25Sb2xlJywgcHJvcHMpXG4gICAgfVxuXG59Il19