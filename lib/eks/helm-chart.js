"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.HelmChartStack = void 0;
const aws_cdk_lib_1 = require("aws-cdk-lib");
const aws_eks_1 = require("aws-cdk-lib/aws-eks");
class HelmChartStack extends aws_cdk_lib_1.NestedStack {
    constructor(scope, id, chart, cluster, props) {
        super(scope, id);
        this.chart = chart;
        this.installHelmChart(cluster);
    }
    installHelmChart(cluster) {
        const helmChart = new aws_eks_1.HelmChart(this, this.chart.name, {
            chart: this.chart.chart,
            cluster: cluster,
            namespace: this.chart.namespace,
            repository: this.chart.repository,
            values: this.chart.values,
            release: this.chart.release,
            version: this.chart.version,
            createNamespace: this.chart.createNamespace,
        });
    }
}
exports.HelmChartStack = HelmChartStack;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVsbS1jaGFydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImhlbG0tY2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsNkNBQTBDO0FBQzFDLGlEQUFnRDtBQUloRCxNQUFhLGNBQWUsU0FBUSx5QkFBVztJQUk3QyxZQUFZLEtBQWdCLEVBQUUsRUFBVSxFQUFFLEtBQWUsRUFBRSxPQUFvQixFQUFFLEtBQXNCO1FBQ3JHLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFakIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBRWhDLENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxPQUFvQjtRQUVuQyxNQUFNLFNBQVMsR0FBRyxJQUFJLG1CQUFTLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFO1lBQ3JELEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUs7WUFDdkIsT0FBTyxFQUFFLE9BQU87WUFDaEIsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUztZQUMvQixVQUFVLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVO1lBQ2pDLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU07WUFDekIsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTztZQUMzQixPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPO1lBQzNCLGVBQWUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWU7U0FDNUMsQ0FBQyxDQUFDO0lBRUwsQ0FBQztDQUlGO0FBN0JELHdDQTZCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBla3MgPSByZXF1aXJlKCdhd3MtY2RrLWxpYi9hd3MtZWtzJyk7XG5pbXBvcnQgY2RrID0gcmVxdWlyZSgnYXdzLWNkay1saWInKTtcbmltcG9ydCB7IE5lc3RlZFN0YWNrIH0gZnJvbSAnYXdzLWNkay1saWInO1xuaW1wb3J0IHsgSGVsbUNoYXJ0IH0gZnJvbSAnYXdzLWNkay1saWIvYXdzLWVrcyc7XG5pbXBvcnQgeyBDb25zdHJ1Y3QgfSBmcm9tICdjb25zdHJ1Y3RzJztcbmltcG9ydCB7IEVLU0NoYXJ0IH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9saWIvZWtzL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgSGVsbUNoYXJ0U3RhY2sgZXh0ZW5kcyBOZXN0ZWRTdGFjayB7XG5cbiAgY2hhcnQ6IEVLU0NoYXJ0O1xuXG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBDb25zdHJ1Y3QsIGlkOiBzdHJpbmcsIGNoYXJ0OiBFS1NDaGFydCwgY2x1c3RlcjogZWtzLkNsdXN0ZXIsIHByb3BzPzogY2RrLlN0YWNrUHJvcHMpIHtcbiAgICBzdXBlcihzY29wZSwgaWQpO1xuXG4gICAgdGhpcy5jaGFydCA9IGNoYXJ0O1xuICAgIHRoaXMuaW5zdGFsbEhlbG1DaGFydChjbHVzdGVyKVxuXG4gIH1cblxuICBpbnN0YWxsSGVsbUNoYXJ0KGNsdXN0ZXI6IGVrcy5DbHVzdGVyKSB7XG5cbiAgICBjb25zdCBoZWxtQ2hhcnQgPSBuZXcgSGVsbUNoYXJ0KHRoaXMsIHRoaXMuY2hhcnQubmFtZSwge1xuICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQuY2hhcnQsXG4gICAgICBjbHVzdGVyOiBjbHVzdGVyLFxuICAgICAgbmFtZXNwYWNlOiB0aGlzLmNoYXJ0Lm5hbWVzcGFjZSxcbiAgICAgIHJlcG9zaXRvcnk6IHRoaXMuY2hhcnQucmVwb3NpdG9yeSxcbiAgICAgIHZhbHVlczogdGhpcy5jaGFydC52YWx1ZXMsXG4gICAgICByZWxlYXNlOiB0aGlzLmNoYXJ0LnJlbGVhc2UsXG4gICAgICB2ZXJzaW9uOiB0aGlzLmNoYXJ0LnZlcnNpb24sXG4gICAgICBjcmVhdGVOYW1lc3BhY2U6IHRoaXMuY2hhcnQuY3JlYXRlTmFtZXNwYWNlLFxuICAgIH0pO1xuXG4gIH1cblxuXG5cbn1cblxuIl19