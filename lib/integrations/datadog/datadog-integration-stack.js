"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DatadogAWSIntegrationStack = void 0;
const aws_cdk_lib_1 = require("aws-cdk-lib");
const datadog_cw_kinesis_datadog_construct_1 = require("./datadog-cw-kinesis-datadog-construct");
const datadog_integration_construct_1 = require("./datadog-integration-construct");
class DatadogAWSIntegrationStack extends aws_cdk_lib_1.Stack {
    constructor(scope, id, props) {
        super(scope, id, props);
        new datadog_integration_construct_1.DatadogIntegration(this, 'DatadogIntegrationConstruct', props);
        new datadog_cw_kinesis_datadog_construct_1.KinesisToDatadogStream(this, 'DatadogKinesisIntegration', {
            datadogApiKeySecretName: props.apiKeySecret
        });
    }
}
exports.DatadogAWSIntegrationStack = DatadogAWSIntegrationStack;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YWRvZy1pbnRlZ3JhdGlvbi1zdGFjay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImRhdGFkb2ctaW50ZWdyYXRpb24tc3RhY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNkNBQW9DO0FBR3BDLGlHQUFnRjtBQUNoRixtRkFBcUU7QUFFckUsTUFBYSwwQkFBMkIsU0FBUSxtQkFBSztJQUNqRCxZQUFZLEtBQWdCLEVBQUUsRUFBVSxFQUFFLEtBQXNDO1FBQzVFLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXhCLElBQUksa0RBQWtCLENBQUMsSUFBSSxFQUFFLDZCQUE2QixFQUFFLEtBQUssQ0FBQyxDQUFBO1FBQ2xFLElBQUksNkRBQXNCLENBQUMsSUFBSSxFQUFFLDJCQUEyQixFQUFFO1lBQzFELHVCQUF1QixFQUFFLEtBQUssQ0FBQyxZQUFZO1NBQzlDLENBQUMsQ0FBQztJQUVQLENBQUM7Q0FDSjtBQVZELGdFQVVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RhY2sgfSBmcm9tIFwiYXdzLWNkay1saWJcIjtcbmltcG9ydCB7IENvbnN0cnVjdCB9IGZyb20gXCJjb25zdHJ1Y3RzXCI7XG5pbXBvcnQgeyBEYXRhZG9nQVdTSW50ZWdyYXRpb25TdGFja1Byb3BzIH0gZnJvbSBcIi4uLy4uLy4uL2ludGVyZmFjZXMvbGliL2ludGVncmF0aW9ucy9kYXRhZG9nL2ludGVmYWNlc1wiO1xuaW1wb3J0IHsgS2luZXNpc1RvRGF0YWRvZ1N0cmVhbSB9IGZyb20gXCIuL2RhdGFkb2ctY3cta2luZXNpcy1kYXRhZG9nLWNvbnN0cnVjdFwiO1xuaW1wb3J0IHsgRGF0YWRvZ0ludGVncmF0aW9uIH0gZnJvbSBcIi4vZGF0YWRvZy1pbnRlZ3JhdGlvbi1jb25zdHJ1Y3RcIjtcblxuZXhwb3J0IGNsYXNzIERhdGFkb2dBV1NJbnRlZ3JhdGlvblN0YWNrIGV4dGVuZHMgU3RhY2sge1xuICAgIGNvbnN0cnVjdG9yKHNjb3BlOiBDb25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBEYXRhZG9nQVdTSW50ZWdyYXRpb25TdGFja1Byb3BzKSB7XG4gICAgICAgIHN1cGVyKHNjb3BlLCBpZCwgcHJvcHMpO1xuXG4gICAgICAgIG5ldyBEYXRhZG9nSW50ZWdyYXRpb24odGhpcywgJ0RhdGFkb2dJbnRlZ3JhdGlvbkNvbnN0cnVjdCcsIHByb3BzKVxuICAgICAgICBuZXcgS2luZXNpc1RvRGF0YWRvZ1N0cmVhbSh0aGlzLCAnRGF0YWRvZ0tpbmVzaXNJbnRlZ3JhdGlvbicsIHtcbiAgICAgICAgICAgIGRhdGFkb2dBcGlLZXlTZWNyZXROYW1lOiBwcm9wcy5hcGlLZXlTZWNyZXRcbiAgICAgICAgfSk7XG5cbiAgICB9XG59Il19